{"mappings":"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","sources":["src/favorites.js"],"sourcesContent":["import { loadFromLS, removeFromLS, saveToLS } from './js/localSt.js';\nimport { createCocktail } from './js/createMarkap.js';\nimport { callMobileMenu } from './js/menuMobile.js';\n\n// =======================LISTENER =========================================================\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.btn-load-more'),\n  searchLetterCocktailMobile: document.querySelector('.js-letter-cocktail-1'),\n  searchLetterCocktail: document.querySelector('.js-letter-cocktail-2'),\n  favoritCocktails: document.querySelector('.favorit'),\n  btnLS: document.querySelector('.add-descr'),\n  titleContainer1: document.querySelector('.title-1'),\n  arrow: document.querySelector('.arrow'),\n  arrowMobile: document.querySelector('.arrow-mobile'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearchForm);\nrefs.titleContainer1.style.display = 'none';\nrefs.gallery.addEventListener('click', removeLSFavoritCocktailLS);\nrefs.arrow.addEventListener('click', onClickMenuHeader);\nrefs.arrowMobile.addEventListener('click', onClickMobileMenuHeader);\n\n// ======================================================================================\n\n//====================ФУНКЦИЯ ОТКРЫТИЯ МОБИЛЬНОГО МЕНЮ =============================================================\ncallMobileMenu();\n\nfunction onSearchForm(event) {\n  event.preventDefault();\n}\n\nwindow.addEventListener('load', loadLSCocktails);\n\n// let cocktailsFavorites = [];\n\n// BASE_URL = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?';\n\n// let cocktailsFavorites = [];\n\n// function loadLSCocktails() {\n//   if (loadFromLS('FavoriteCocktails') === null) {\n//     saveToLS('FavoriteCocktails', '');\n//   } else {\n//     let arr = loadFromLS('FavoriteCocktails');\n//     const fetches = arr.map(cocktailName => {\n//       return fetch(`${BASE_URL}s=${cocktailName}`).then(res => res.json());\n//     });\n//     if (!arr || arr?.length === 0) {\n//       refs.gallery.innerHTML =\n//         \"<div class='container'><h2 class='title-favorite-cocktails'>Sorry, you haven't chosen your favorite cocktails yet.</h2></div >\";\n//     }\n//     if (arr) {\n//       // const titleNoCocktails = document.querySelector('.title-cocktails-now');\n//       // titleNoCocktails.style.display = 'none';\n//       Promise.all(fetches).then(arr => {\n//         arr = arr?.map(obj => {\n//           return obj.drinks[0];\n//         });\n//         cocktailsFavorites.push(...arr);\n//         //console.log(arr);\n//         createCocktail(cocktailsFavorites);\n//         const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n//         for (let btn of btnAdd) {\n//           btn.style.display = 'none';\n//         }\n//         // addSvgUseHearts();\n//       });\n//     }\n//   }\n// }\n\nlet favorite = JSON.parse(localStorage.getItem('FavoriteCocktails'));\nconsole.log(favorite);\n\nfunction loadLSCocktails() {\n  if (!favorite || favorite.length === 0) {\n    refs.gallery.innerHTML =\n      \"<div class='container'><h2 class='title-favorite-cocktails'>Sorry, you haven't chosen your favorite cocktails yet.</h2></div >\";\n  } else {\n    createCocktail(favorite);\n\n    const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  }\n}\n\nasync function removeLSFavoritCocktailLS(event) {\n  const cocktailNameRemove = event.target.getAttribute(\n    'data-cocktail-name-remove'\n  );\n\n  const index = await favorite.findIndex(\n    data => data.strDrink === cocktailNameRemove\n  );\n\n  favorite.splice(index, 1);\n\n  refs.gallery.innerHTML = '';\n  console.log(favorite);\n\n  createCocktail(favorite);\n\n  removeFromLS('FavoriteCocktails', favorite);\n\n  const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n  for (let btn of btnAdd) {\n    btn.style.display = 'none';\n  }\n}\n\n// ==================== ТЕМНАЯ ТЕМА =========================================\ndocument.addEventListener('DOMContentLoaded', () => {\n  init();\n});\nfunction init() {\n  if (localStorage.getItem('theme')) {\n    document.documentElement.setAttribute('theme', 'dark');\n  } else {\n    document.documentElement.removeAttribute('theme');\n  }\n}\n\nfunction readLSTheme() {\n  const toggleBtn = document.querySelector('#toggle-theme');\n  toggleBtn.addEventListener('click', function () {\n    if (document.documentElement.hasAttribute('theme')) {\n      document.documentElement.removeAttribute('theme');\n      localStorage.removeItem('theme');\n    } else {\n      document.documentElement.setAttribute('theme', 'dark');\n      localStorage.setItem('theme', 'black');\n    }\n  });\n}\n\nreadLSTheme();\n\nconst btnThemePosition = localStorage.getItem('theme');\n\nfunction saveButtonPositionDarkTheme() {\n  const btnDarkTheme = document.querySelector('#highload1');\n\n  if (btnThemePosition === 'black') {\n    btnDarkTheme.classList.remove('checkboxBtn');\n    btnDarkTheme.classList.add('checkboxBtnOrange');\n  }\n}\n\nsaveButtonPositionDarkTheme();\n\n//========================================================================================//\n\n//============ Скрипт меню открытия тачcкрином на планшетах и мобильных устройствах =====//\nlet isMobile = {\n  Android: function () {\n    return navigator.userAgent.match(/Android/i);\n  },\n  BlackBerry: function () {\n    return navigator.userAgent.match(/BlackBerry/i);\n  },\n  iOS: function () {\n    return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n  },\n  Opera: function () {\n    return navigator.userAgent.match(/Opera Mini/i);\n  },\n  Windows: function () {\n    return navigator.userAgent.match(/IEMobile/i);\n  },\n  any: function () {\n    return (\n      isMobile.Android() ||\n      isMobile.BlackBerry() ||\n      isMobile.iOS() ||\n      isMobile.Opera() ||\n      isMobile.Windows()\n    );\n  },\n};\n\nlet body = document.querySelector('body');\nif (isMobile.any()) {\n  body.classList.add('touch');\n} else {\n  body.classList.add('mouse');\n}\n\nfunction onClickMenuHeader() {\n  const subMenu = document.querySelector('.favorite-wrapper');\n  const thisArrow = document.querySelector('.menu-arrow');\n\n  subMenu.classList.toggle('open');\n  thisArrow.classList.toggle('active');\n}\n\nfunction onClickMobileMenuHeader() {\n  const subMenu = document.querySelector('.mobile-favorite-list');\n  const thisArrow = document.querySelector('.arrow-mobile');\n\n  subMenu.classList.toggle('open');\n  thisArrow.classList.toggle('active');\n}\n//========================================================//\n"],"names":["$bpxeT","parcelRequire","$f872ae3cf3d9dd7f$var$refs","searchForm","document","querySelector","gallery","loadMoreBtn","searchLetterCocktailMobile","searchLetterCocktail","favoritCocktails","btnLS","titleContainer1","arrow","arrowMobile","addEventListener","event","preventDefault","style","display","$f872ae3cf3d9dd7f$var$_removeLSFavoritCocktailLS","apply","this","arguments","subMenu","thisArrow","classList","toggle","$6mEDC","callMobileMenu","window","$f872ae3cf3d9dd7f$var$favorite","length","$lMEm8","createCocktail","btnAdd","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","err","return","innerHTML","JSON","parse","localStorage","getItem","$parcel$interopDefault","$2TvXO","mark","_callee","cocktailNameRemove","index","target","getAttribute","findIndex","data","strDrink","_ctx","sent","splice","console","log","$hxfSy","removeFromLS","t0","documentElement","setAttribute","removeAttribute","hasAttribute","removeItem","setItem","btnDarkTheme","$f872ae3cf3d9dd7f$var$btnThemePosition","remove","add","$f872ae3cf3d9dd7f$var$isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","$f872ae3cf3d9dd7f$var$body"],"version":3,"file":"favorites.5084ab4c.js.map"}