{"mappings":"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","sources":["src/ingredient.js"],"sourcesContent":["import { removeFromLS, saveToLS } from './js/localSt.js';\nimport { callMobileMenu } from './js/menuMobile.js';\nimport { openModalIngredient } from './js/modalWindow.js';\nimport { fetchNameIngredientCocktail } from './js/fetchCocktails';\nimport { createIngredientCard, createIngredient } from './js/createMarkap.js';\n\n// =======================LISTENER =========================================================\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.btn-load-more'),\n  searchLetterCocktailMobile: document.querySelector('.js-letter-cocktail-1'),\n  searchLetterCocktail: document.querySelector('.js-letter-cocktail-2'),\n  favoritCocktails: document.querySelector('.favorit'),\n  modalCreateCocktail: document.querySelector('.modal-create-cocktail'),\n  modal: document.querySelector('.modal'),\n  modalCreateIngredient: document.querySelector('.modal-create-ingredient'),\n  btnLS: document.querySelector('.add-descr'),\n  titleContainer1: document.querySelector('.title-1'),\n  titleContainer2: document.querySelector('.title-2'),\n  arrow: document.querySelector('.arrow'),\n  arrowMobile: document.querySelector('.arrow-mobile'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearchFormIngredientLS);\nrefs.titleContainer1.style.display = 'none';\nrefs.titleContainer2.style.display = 'none';\nrefs.gallery.addEventListener('click', removeLSFavoritIngredient);\nrefs.arrow.addEventListener('click', onClickMenuHeader);\nrefs.arrowMobile.addEventListener('click', onClickMobileMenuHeader);\nrefs.gallery.addEventListener('click', openModalIngredient);\nrefs.modal.addEventListener('click', openModalIngredient);\nrefs.gallery.addEventListener('click', onClickLearntMoreBtn);\nrefs.modalCreateIngredient.addEventListener(\n  'click',\n  saveAndRemoveFavoritIngredientsLSFavoritesToIngredienthtml\n);\n\n//====================ФУНКЦИЯ ОТКРЫТИЯ МОБИЛЬНОГО МЕНЮ =============================================================\ncallMobileMenu();\n\n//==================== ФУНКЦИЯ ПОИСКА ИНГРИДИЕНТА ИЗ ФАВОРИТОВ ИНГРИДИЕНТОВ ingredient.html ================================\nlet favoritesIngredient = JSON.parse(\n  localStorage.getItem('FavoriteIngredients')\n);\n\nfunction onSearchFormIngredientLS(event) {\n  event.preventDefault();\n  refs.gallery.innerHTML = '';\n  // page = 1;\n\n  try {\n    const ingredientName = event.currentTarget.searchQuery.value.trim();\n\n    const newIngredientArray = favoritesIngredient.filter(\n      favoritesIngredient =>\n        favoritesIngredient.strIngredient === ingredientName\n    );\n\n    createIngredient(newIngredientArray);\n    const btnAdd = document.querySelectorAll('.js-add-to-favorite-ingredient');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//==================== ФУНКЦИЯ РЕНДЕРИТ ИНГРИДИЕНТЫ НА СТРАНИЦЕ ingredient.html=====================\nwindow.addEventListener('load', loadLSIngredient);\nfunction loadLSIngredient() {\n  if (!favoritesIngredient || favoritesIngredient.length === 0) {\n    refs.gallery.innerHTML =\n      \"<div class='container'><h2 class='title-favorite-cocktails'>Sorry, you haven't chosen your favorite ingridients yet.</h2></div >\";\n  } else {\n    createIngredient(favoritesIngredient);\n\n    const btnAdd = document.querySelectorAll('.js-add-to-favorite-ingredient');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  }\n}\n\n//==================== ФУНКЦИЯ УДАЛЕНИЯ ИНГРИДИЕНТА НА СТРАНИЦЕ ingredient.html=====================\nasync function removeLSFavoritIngredient(event) {\n  const elParent = event.target.closest('.ingredient-box');\n\n  if (event.target.classList.contains('js-remove-from-favorite-ingredient')) {\n    const ingredientName = elParent.children[0].children[0].textContent;\n\n    favoritesIngredient = favoritesIngredient.filter(\n      ingredient => ingredient.strIngredient !== ingredientName\n    );\n\n    refs.gallery.innerHTML = '';\n    createIngredient(favoritesIngredient);\n\n    removeFromLS('FavoriteIngredients', favoritesIngredient);\n    const btnAdd = document.querySelectorAll('.js-add-to-favorite-ingredient');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  }\n}\n\n//==================== ФУНКЦИЯ ОТКРЫТИЯ МОДАЛЬНОГО НА СТРАНИЦЕ ingredient.html =====================\nfunction onClickLearntMoreBtn(event) {\n  refs.modalCreateIngredient.innerHTML = '';\n  const elParent = event.target.closest('.ingredient-box');\n  if (event.target.classList.contains('js-learn-btn')) {\n    const nameIngredient = elParent.children[0].children[0].textContent;\n\n    fetchNameIngredientCocktail(nameIngredient).then(data => {\n      createIngredientCard(data.ingredients);\n\n      const btnAdd = document.querySelectorAll(\n        '.js-add-to-favorite-ingredient'\n      );\n      for (let btn of btnAdd) {\n        btn.style.display = 'none';\n      }\n    });\n  }\n}\n\n//==================== СОХРАНЯЕТ И УДАЛЯЕТ ИНГРИДИЕНТЫ В LS ИЗ МОДАЛЬНОГО ОКНА НА СТРАНИЦЕ ingredient.html =====================\nlet favoriteIngredient;\nif (JSON.parse(localStorage.getItem('FavoriteIngredient')) === null) {\n  favoriteIngredient = [];\n} else {\n  favoriteIngredient = JSON.parse(localStorage.getItem('FavoriteIngredient'));\n}\n\nasync function saveAndRemoveFavoritIngredientsLSFavoritesToIngredienthtml(\n  event\n) {\n  const elParent = event.target.closest('.modal-container-ingredient');\n  if (event.target.classList.contains('js-remove-from-favorite-ingredient')) {\n    const ingredientName = elParent.children[0].children[0].textContent;\n\n    let ingredients = JSON.parse(localStorage.getItem('FavoriteIngredients'));\n    ingredients = ingredients.filter(\n      ingredient => ingredient.strIngredient !== ingredientName\n    );\n\n    removeFromLS('FavoriteIngredients', ingredients);\n    refs.gallery.innerHTML = '';\n    createIngredient(ingredients);\n\n    const btnAddIngredient = document.querySelectorAll(\n      '.js-add-to-favorite-ingredient'\n    );\n    for (let btn of btnAddIngredient) {\n      btn.style.display = 'none';\n    }\n\n    const btnRemove = elParent.children[0].children[5].children[1];\n    btnRemove.style.display = 'none';\n    const btnAdd = elParent.children[0].children[5].children[0];\n    btnAdd.style.display = 'flex';\n  } else if (\n    event.target.classList.contains('js-add-to-favorite-ingredient-2')\n  ) {\n    const ingredientName = elParent.children[0].children[0].textContent;\n\n    const data = await fetchNameIngredientCocktail(ingredientName);\n    let ingredient = { ...data.ingredients[0] };\n\n    saveToLS('FavoriteIngredients', ingredient);\n    refs.gallery.innerHTML = '';\n    createIngredient(favoritesIngredient);\n\n    const btnAddIngredient = document.querySelectorAll(\n      '.js-add-to-favorite-ingredient'\n    );\n    for (let btn of btnAddIngredient) {\n      btn.style.display = 'none';\n    }\n\n    const btnRemove = elParent.children[0].children[5].children[1];\n    btnRemove.style.display = 'flex';\n    const btnAdd = elParent.children[0].children[5].children[0];\n    btnAdd.style.display = 'none';\n  }\n}\n\n// ==================== ТЕМНАЯ ТЕМА =========================================\ndocument.addEventListener('DOMContentLoaded', () => {\n  init();\n});\nfunction init() {\n  if (localStorage.getItem('theme')) {\n    document.documentElement.setAttribute('theme', 'dark');\n  } else {\n    document.documentElement.removeAttribute('theme');\n  }\n}\n\nfunction readLSTheme() {\n  const toggleBtn = document.querySelector('#toggle-theme');\n  toggleBtn.addEventListener('click', function () {\n    if (document.documentElement.hasAttribute('theme')) {\n      document.documentElement.removeAttribute('theme');\n      localStorage.removeItem('theme');\n    } else {\n      document.documentElement.setAttribute('theme', 'dark');\n      localStorage.setItem('theme', 'black');\n    }\n  });\n}\n\nreadLSTheme();\n\n//======= ФУНКЦИЯ СОХРАНЕНИЯ ПОЗИЦИИ КНОПКИ ВКЛЮЧЕНИЯ ТЕМНОЙ ТЕМЫ ПОСЛЕ ПЕРЕЗАГРУЗКИ СТРАНИЦЫ ==============================\nconst btnThemePosition = localStorage.getItem('theme');\n\nfunction saveButtonPositionDarkTheme() {\n  const btnDarkTheme = document.querySelector('#highload1');\n\n  if (btnThemePosition === 'black') {\n    btnDarkTheme.classList.remove('checkboxBtn');\n    btnDarkTheme.classList.add('checkboxBtnOrange');\n  }\n}\n\nsaveButtonPositionDarkTheme();\n\n//========================================================================================//\n\n//============ Скрипт меню открытия тачcкрином на планшетах и мобильных устройствах =====//\nlet isMobile = {\n  Android: function () {\n    return navigator.userAgent.match(/Android/i);\n  },\n  BlackBerry: function () {\n    return navigator.userAgent.match(/BlackBerry/i);\n  },\n  iOS: function () {\n    return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n  },\n  Opera: function () {\n    return navigator.userAgent.match(/Opera Mini/i);\n  },\n  Windows: function () {\n    return navigator.userAgent.match(/IEMobile/i);\n  },\n  any: function () {\n    return (\n      isMobile.Android() ||\n      isMobile.BlackBerry() ||\n      isMobile.iOS() ||\n      isMobile.Opera() ||\n      isMobile.Windows()\n    );\n  },\n};\n\nlet body = document.querySelector('body');\nif (isMobile.any()) {\n  body.classList.add('touch');\n} else {\n  body.classList.add('mouse');\n}\n\n//=========== Открытие меню нажатием на стрелку для планшетов ================//\nfunction onClickMenuHeader() {\n  const subMenu = document.querySelector('.favorite-wrapper');\n  const thisArrow = document.querySelector('.menu-arrow');\n\n  subMenu.classList.toggle('open');\n  thisArrow.classList.toggle('active');\n}\n\n//=========== Открытие меню нажатием на стрелку для мобилных устройств ================//\nfunction onClickMobileMenuHeader() {\n  const subMenu = document.querySelector('.mobile-favorite-list');\n  const thisArrow = document.querySelector('.arrow-mobile');\n\n  subMenu.classList.toggle('open');\n  thisArrow.classList.toggle('active');\n}\n//========================================================//\n"],"names":["$lg1y7","parcelRequire","$db073dc796744cf3$var$refs","searchForm","document","querySelector","gallery","loadMoreBtn","searchLetterCocktailMobile","searchLetterCocktail","favoritCocktails","modalCreateCocktail","modal","modalCreateIngredient","btnLS","titleContainer1","titleContainer2","arrow","arrowMobile","addEventListener","event","preventDefault","innerHTML","ingredientName","currentTarget","searchQuery","value","trim","newIngredientArray","$db073dc796744cf3$var$favoritesIngredient","filter","favoritesIngredient1","strIngredient","$fw9vo","createIngredient","btnAdd","querySelectorAll","btn","style","display","error","console","log","async","elParent","target","closest","classList","contains","children","textContent","ingredient","removeFromLS","subMenu","thisArrow","toggle","$1wewW","openModalIngredient","nameIngredient","$7o6rk","fetchNameIngredientCocktail","then","data","createIngredientCard","ingredients","JSON","parse","localStorage","getItem","btnAddIngredient","saveToLS","$2L5NI","callMobileMenu","$db073dc796744cf3$var$favoriteIngredient","window","length","documentElement","setAttribute","removeAttribute","hasAttribute","removeItem","setItem","$db073dc796744cf3$var$btnThemePosition","btnDarkTheme","remove","add","$db073dc796744cf3$var$saveButtonPositionDarkTheme","$db073dc796744cf3$var$isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","$db073dc796744cf3$var$body"],"version":3,"file":"ingredient.9ba62c37.js.map"}