{"mappings":"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","sources":["src/favorites.js"],"sourcesContent":["import { loadFromLS, removeFromLS, saveToLS } from './js/localSt.js';\nimport { createCocktail } from './js/createMarkap.js';\nimport { callMobileMenu } from './js/menuMobile.js';\n\n// =======================LISTENER =========================================================\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.btn-load-more'),\n  searchLetterCocktailMobile: document.querySelector('.js-letter-cocktail-1'),\n  searchLetterCocktail: document.querySelector('.js-letter-cocktail-2'),\n  favoritCocktails: document.querySelector('.favorit'),\n  btnLS: document.querySelector('.add-descr'),\n  titleContainer1: document.querySelector('.title-1'),\n  arrow: document.querySelector('.arrow'),\n  arrowMobile: document.querySelector('.arrow-mobile'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearchFormCoctailsLS);\nrefs.titleContainer1.style.display = 'none';\nrefs.gallery.addEventListener('click', removeLSFavoritCocktailLS);\nrefs.arrow.addEventListener('click', onClickMenuHeader);\nrefs.arrowMobile.addEventListener('click', onClickMobileMenuHeader);\n\n// ======================================================================================\n\n//====================ФУНКЦИЯ ОТКРЫТИЯ МОБИЛЬНОГО МЕНЮ =============================================================\ncallMobileMenu();\n\n// function onSearchForm(event) {\n//   event.preventDefault();\n// }\n\n// let cocktailsFavorites = [];\n\n// BASE_URL = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?';\n\n// let cocktailsFavorites = [];\n\n// function loadLSCocktails() {\n//   if (loadFromLS('FavoriteCocktails') === null) {\n//     saveToLS('FavoriteCocktails', '');\n//   } else {\n//     let arr = loadFromLS('FavoriteCocktails');\n//     const fetches = arr.map(cocktailName => {\n//       return fetch(`${BASE_URL}s=${cocktailName}`).then(res => res.json());\n//     });\n//     if (!arr || arr?.length === 0) {\n//       refs.gallery.innerHTML =\n//         \"<div class='container'><h2 class='title-favorite-cocktails'>Sorry, you haven't chosen your favorite cocktails yet.</h2></div >\";\n//     }\n//     if (arr) {\n//       // const titleNoCocktails = document.querySelector('.title-cocktails-now');\n//       // titleNoCocktails.style.display = 'none';\n//       Promise.all(fetches).then(arr => {\n//         arr = arr?.map(obj => {\n//           return obj.drinks[0];\n//         });\n//         cocktailsFavorites.push(...arr);\n//         //console.log(arr);\n//         createCocktail(cocktailsFavorites);\n//         const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n//         for (let btn of btnAdd) {\n//           btn.style.display = 'none';\n//         }\n//         // addSvgUseHearts();\n//       });\n//     }\n//   }\n// }\n\nlet favorites = JSON.parse(localStorage.getItem('FavoriteCocktails'));\nconsole.log(favorites);\n\nfunction onSearchFormCoctailsLS(event) {\n  event.preventDefault();\n  refs.gallery.innerHTML = '';\n  // page = 1;\n\n  try {\n    const cocktailName = event.currentTarget.searchQuery.value.trim();\n    console.log(cocktailName);\n\n    const newCocktailsArray = favorites.filter(\n      favorites => favorites.strDrink === cocktailName\n    );\n\n    createCocktail(newCocktailsArray);\n    const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nwindow.addEventListener('load', loadLSCocktails);\nfunction loadLSCocktails() {\n  if (!favorites || favorites.length === 0) {\n    refs.gallery.innerHTML =\n      \"<div class='container'><h2 class='title-favorite-cocktails'>Sorry, you haven't chosen your favorite cocktails yet.</h2></div >\";\n  } else {\n    createCocktail(favorites);\n\n    const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  }\n}\n\nasync function removeLSFavoritCocktailLS(event) {\n  const btnRemove = event.target.getAttribute('data-cocktail-name-remove');\n\n  console.log(btnRemove);\n\n  const index = await favorites.findIndex(data => data.strDrink === btnRemove);\n\n  favorites.splice(index, 1);\n\n  refs.gallery.innerHTML = '';\n  console.log(favorites);\n\n  createCocktail(favorites);\n\n  removeFromLS('FavoriteCocktails', favorites);\n\n  const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n  for (let btn of btnAdd) {\n    btn.style.display = 'none';\n  }\n}\n\n// ==================== ТЕМНАЯ ТЕМА =========================================\ndocument.addEventListener('DOMContentLoaded', () => {\n  init();\n});\nfunction init() {\n  if (localStorage.getItem('theme')) {\n    document.documentElement.setAttribute('theme', 'dark');\n  } else {\n    document.documentElement.removeAttribute('theme');\n  }\n}\n\nfunction readLSTheme() {\n  const toggleBtn = document.querySelector('#toggle-theme');\n  toggleBtn.addEventListener('click', function () {\n    if (document.documentElement.hasAttribute('theme')) {\n      document.documentElement.removeAttribute('theme');\n      localStorage.removeItem('theme');\n    } else {\n      document.documentElement.setAttribute('theme', 'dark');\n      localStorage.setItem('theme', 'black');\n    }\n  });\n}\n\nreadLSTheme();\n\nconst btnThemePosition = localStorage.getItem('theme');\n\nfunction saveButtonPositionDarkTheme() {\n  const btnDarkTheme = document.querySelector('#highload1');\n\n  if (btnThemePosition === 'black') {\n    btnDarkTheme.classList.remove('checkboxBtn');\n    btnDarkTheme.classList.add('checkboxBtnOrange');\n  }\n}\n\nsaveButtonPositionDarkTheme();\n\n//========================================================================================//\n\n//============ Скрипт меню открытия тачcкрином на планшетах и мобильных устройствах =====//\nlet isMobile = {\n  Android: function () {\n    return navigator.userAgent.match(/Android/i);\n  },\n  BlackBerry: function () {\n    return navigator.userAgent.match(/BlackBerry/i);\n  },\n  iOS: function () {\n    return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n  },\n  Opera: function () {\n    return navigator.userAgent.match(/Opera Mini/i);\n  },\n  Windows: function () {\n    return navigator.userAgent.match(/IEMobile/i);\n  },\n  any: function () {\n    return (\n      isMobile.Android() ||\n      isMobile.BlackBerry() ||\n      isMobile.iOS() ||\n      isMobile.Opera() ||\n      isMobile.Windows()\n    );\n  },\n};\n\nlet body = document.querySelector('body');\nif (isMobile.any()) {\n  body.classList.add('touch');\n} else {\n  body.classList.add('mouse');\n}\n\nfunction onClickMenuHeader() {\n  const subMenu = document.querySelector('.favorite-wrapper');\n  const thisArrow = document.querySelector('.menu-arrow');\n\n  subMenu.classList.toggle('open');\n  thisArrow.classList.toggle('active');\n}\n\nfunction onClickMobileMenuHeader() {\n  const subMenu = document.querySelector('.mobile-favorite-list');\n  const thisArrow = document.querySelector('.arrow-mobile');\n\n  subMenu.classList.toggle('open');\n  thisArrow.classList.toggle('active');\n}\n//========================================================//\n"],"names":["$bpxeT","parcelRequire","$f872ae3cf3d9dd7f$var$refs","searchForm","document","querySelector","gallery","loadMoreBtn","searchLetterCocktailMobile","searchLetterCocktail","favoritCocktails","btnLS","titleContainer1","arrow","arrowMobile","addEventListener","event","preventDefault","innerHTML","cocktailName","currentTarget","searchQuery","value","trim","console","log","newCocktailsArray","$f872ae3cf3d9dd7f$var$favorites","filter","favorites1","strDrink","$lMEm8","createCocktail","btnAdd","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","style","display","err","return","error","$f872ae3cf3d9dd7f$var$_removeLSFavoritCocktailLS","apply","this","arguments","subMenu","thisArrow","classList","toggle","$6mEDC","callMobileMenu","JSON","parse","localStorage","getItem","$parcel$interopDefault","$2TvXO","mark","_callee","btnRemove","index","target","getAttribute","findIndex","data","_ctx","sent","splice","$hxfSy","removeFromLS","t0","window","length","documentElement","setAttribute","removeAttribute","hasAttribute","removeItem","setItem","btnDarkTheme","$f872ae3cf3d9dd7f$var$btnThemePosition","remove","add","$f872ae3cf3d9dd7f$var$isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","$f872ae3cf3d9dd7f$var$body"],"version":3,"file":"favorites.4fd8cb78.js.map"}