{"mappings":"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","sources":["src/favorites.js"],"sourcesContent":["import { loadFromLS, removeFromLS, saveToLS } from './js/localSt.js';\nimport { callMobileMenu } from './js/menuMobile.js';\nimport { openModalWindow } from './js/modalWindow.js';\nimport { fetchIngredientCocktails } from './js/fetchCocktails';\nimport { createCocktail, createIngredientCocktail } from './js/createMarkap.js';\n\n// =======================LISTENER =========================================================\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.btn-load-more'),\n  searchLetterCocktailMobile: document.querySelector('.js-letter-cocktail-1'),\n  searchLetterCocktail: document.querySelector('.js-letter-cocktail-2'),\n  favoritCocktails: document.querySelector('.favorit'),\n  modalCreateCocktail: document.querySelector('.modal-create-cocktail'),\n  modal: document.querySelector('.modal'),\n  // btnFavRemove: document.querySelector('.js_btn_fav_remove'),\n  btnLS: document.querySelector('.add-descr'),\n  titleContainer1: document.querySelector('.title-1'),\n  arrow: document.querySelector('.arrow'),\n  arrowMobile: document.querySelector('.arrow-mobile'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearchFormCoctailsLS);\nrefs.titleContainer1.style.display = 'none';\nrefs.gallery.addEventListener('click', removeLSFavoritCocktailLS);\nrefs.arrow.addEventListener('click', onClickMenuHeader);\nrefs.arrowMobile.addEventListener('click', onClickMobileMenuHeader);\nrefs.gallery.addEventListener('click', openModalWindow);\nrefs.modal.addEventListener('click', openModalWindow);\nrefs.gallery.addEventListener('click', onClickCocktailBtn);\n\n// ======================================================================================\n\n//====================ФУНКЦИЯ ОТКРЫТИЯ МОБИЛЬНОГО МЕНЮ =============================================================\ncallMobileMenu();\n\n// function onSearchForm(event) {\n//   event.preventDefault();\n// }\n\n// let cocktailsFavorites = [];\n\n// BASE_URL = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?';\n\n// let cocktailsFavorites = [];\n\n// function loadLSCocktails() {\n//   if (loadFromLS('FavoriteCocktails') === null) {\n//     saveToLS('FavoriteCocktails', '');\n//   } else {\n//     let arr = loadFromLS('FavoriteCocktails');\n//     const fetches = arr.map(cocktailName => {\n//       return fetch(`${BASE_URL}s=${cocktailName}`).then(res => res.json());\n//     });\n//     if (!arr || arr?.length === 0) {\n//       refs.gallery.innerHTML =\n//         \"<div class='container'><h2 class='title-favorite-cocktails'>Sorry, you haven't chosen your favorite cocktails yet.</h2></div >\";\n//     }\n//     if (arr) {\n//       // const titleNoCocktails = document.querySelector('.title-cocktails-now');\n//       // titleNoCocktails.style.display = 'none';\n//       Promise.all(fetches).then(arr => {\n//         arr = arr?.map(obj => {\n//           return obj.drinks[0];\n//         });\n//         cocktailsFavorites.push(...arr);\n//         //console.log(arr);\n//         createCocktail(cocktailsFavorites);\n//         const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n//         for (let btn of btnAdd) {\n//           btn.style.display = 'none';\n//         }\n//         // addSvgUseHearts();\n//       });\n//     }\n//   }\n// }\n\nlet favorites = JSON.parse(localStorage.getItem('FavoriteCocktails'));\n\nfunction onSearchFormCoctailsLS(event) {\n  event.preventDefault();\n  refs.gallery.innerHTML = '';\n  // page = 1;\n\n  try {\n    const cocktailName = event.currentTarget.searchQuery.value.trim();\n    console.log(cocktailName);\n\n    const newCocktailsArray = favorites.filter(\n      favorites => favorites.strDrink === cocktailName\n    );\n\n    createCocktail(newCocktailsArray);\n    const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nwindow.addEventListener('load', loadLSCocktails);\nfunction loadLSCocktails() {\n  if (!favorites || favorites.length === 0) {\n    refs.gallery.innerHTML =\n      \"<div class='container'><h2 class='title-favorite-cocktails'>Sorry, you haven't chosen your favorite cocktails yet.</h2></div >\";\n  } else {\n    createCocktail(favorites);\n\n    const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  }\n}\n\nasync function removeLSFavoritCocktailLS(event) {\n  const elParent = event.target.closest('.gallery-item');\n\n  if (event.target.classList.contains('js_btn_fav_remove')) {\n    favorites = favorites.filter(drink => drink.idDrink !== elParent.id);\n\n    refs.gallery.innerHTML = '';\n    createCocktail(favorites);\n\n    removeFromLS('FavoriteCocktails', favorites);\n    const btnAdd = document.querySelectorAll('.js_btn_fav_add');\n    for (let btn of btnAdd) {\n      btn.style.display = 'none';\n    }\n  }\n}\n\nfunction onClickCocktailBtn(event) {\n  refs.modalCreateCocktail.innerHTML = '';\n  const elParent = event.target.closest('.gallery-item');\n\n  if (event.target.classList.contains('js-learn-btn')) {\n    fetchIngredientCocktails(elParent.id).then(data => {\n      createIngredientCocktail(data.drinks);\n\n      const ingredients = document.querySelectorAll('.modal-ingredient-btn');\n\n      for (let i = 0; i < ingredients.length; i++) {\n        if (ingredients[i].dataset.ingredientName == 'null') {\n          ingredients[i].textContent = '';\n        }\n      }\n    });\n    const btnRemove = document.querySelectorAll('.js-remove-from-favorite');\n    for (let btn of btnRemove) {\n      btn.style.display = 'none';\n    }\n  }\n}\n\n// ==================== ТЕМНАЯ ТЕМА =========================================\ndocument.addEventListener('DOMContentLoaded', () => {\n  init();\n});\nfunction init() {\n  if (localStorage.getItem('theme')) {\n    document.documentElement.setAttribute('theme', 'dark');\n  } else {\n    document.documentElement.removeAttribute('theme');\n  }\n}\n\nfunction readLSTheme() {\n  const toggleBtn = document.querySelector('#toggle-theme');\n  toggleBtn.addEventListener('click', function () {\n    if (document.documentElement.hasAttribute('theme')) {\n      document.documentElement.removeAttribute('theme');\n      localStorage.removeItem('theme');\n    } else {\n      document.documentElement.setAttribute('theme', 'dark');\n      localStorage.setItem('theme', 'black');\n    }\n  });\n}\n\nreadLSTheme();\n\nconst btnThemePosition = localStorage.getItem('theme');\n\nfunction saveButtonPositionDarkTheme() {\n  const btnDarkTheme = document.querySelector('#highload1');\n\n  if (btnThemePosition === 'black') {\n    btnDarkTheme.classList.remove('checkboxBtn');\n    btnDarkTheme.classList.add('checkboxBtnOrange');\n  }\n}\n\nsaveButtonPositionDarkTheme();\n\n//========================================================================================//\n\n//============ Скрипт меню открытия тачcкрином на планшетах и мобильных устройствах =====//\nlet isMobile = {\n  Android: function () {\n    return navigator.userAgent.match(/Android/i);\n  },\n  BlackBerry: function () {\n    return navigator.userAgent.match(/BlackBerry/i);\n  },\n  iOS: function () {\n    return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n  },\n  Opera: function () {\n    return navigator.userAgent.match(/Opera Mini/i);\n  },\n  Windows: function () {\n    return navigator.userAgent.match(/IEMobile/i);\n  },\n  any: function () {\n    return (\n      isMobile.Android() ||\n      isMobile.BlackBerry() ||\n      isMobile.iOS() ||\n      isMobile.Opera() ||\n      isMobile.Windows()\n    );\n  },\n};\n\nlet body = document.querySelector('body');\nif (isMobile.any()) {\n  body.classList.add('touch');\n} else {\n  body.classList.add('mouse');\n}\n\nfunction onClickMenuHeader() {\n  const subMenu = document.querySelector('.favorite-wrapper');\n  const thisArrow = document.querySelector('.menu-arrow');\n\n  subMenu.classList.toggle('open');\n  thisArrow.classList.toggle('active');\n}\n\nfunction onClickMobileMenuHeader() {\n  const subMenu = document.querySelector('.mobile-favorite-list');\n  const thisArrow = document.querySelector('.arrow-mobile');\n\n  subMenu.classList.toggle('open');\n  thisArrow.classList.toggle('active');\n}\n//========================================================//\n"],"names":["$bpxeT","parcelRequire","$f872ae3cf3d9dd7f$var$refs","searchForm","document","querySelector","gallery","loadMoreBtn","searchLetterCocktailMobile","searchLetterCocktail","favoritCocktails","modalCreateCocktail","modal","btnLS","titleContainer1","arrow","arrowMobile","addEventListener","event","preventDefault","innerHTML","cocktailName","currentTarget","searchQuery","value","trim","console","log","newCocktailsArray","$f872ae3cf3d9dd7f$var$favorites","filter","favorites1","strDrink","$lMEm8","createCocktail","btnAdd","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","style","display","err","return","error","$f872ae3cf3d9dd7f$var$_removeLSFavoritCocktailLS","apply","this","arguments","subMenu","thisArrow","classList","toggle","$5h39L","openModalWindow","elParent","target","closest","contains","$iCYlO","fetchIngredientCocktails","id","then","data","createIngredientCocktail","drinks","ingredients","i","length","dataset","ingredientName","textContent","btnRemove","$6mEDC","callMobileMenu","JSON","parse","localStorage","getItem","$parcel$interopDefault","$2TvXO","mark","_callee","drink","idDrink","$hxfSy","removeFromLS","_ctx","t0","window","documentElement","setAttribute","removeAttribute","hasAttribute","removeItem","setItem","btnDarkTheme","$f872ae3cf3d9dd7f$var$btnThemePosition","remove","add","$f872ae3cf3d9dd7f$var$isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","$f872ae3cf3d9dd7f$var$body"],"version":3,"file":"favorites.21988a0c.js.map"}